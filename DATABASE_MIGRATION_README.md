# ğŸš€ MySQL ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜ ì™„ë£Œ

## ğŸ“‹ ê°œìš”

SSH ì„œë²„ ê´€ë¦¬ ì‹œìŠ¤í…œì´ SQLiteì—ì„œ **MySQL**ë¡œ ì„±ê³µì ìœ¼ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜ë˜ì—ˆìŠµë‹ˆë‹¤!  
ì´ì œ ë” ê°•ë ¥í•˜ê³  ì•ˆì •ì ì¸ ë°ì´í„°ë² ì´ìŠ¤ ì‹œìŠ¤í…œì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

## ğŸ”§ MySQL ì—°ê²° ì„¤ì •

### ë°ì´í„°ë² ì´ìŠ¤ ì •ë³´
```
ğŸ  í˜¸ìŠ¤íŠ¸: 192.168.0.10
ğŸ‘¤ ì‚¬ìš©ì: runmcp  
ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤: runmcp
ğŸ” ë¹„ë°€ë²ˆí˜¸: rcpGsy2*dmQ
```

### ì—°ê²° ì„¤ì • (app/main.py)
```python
MYSQL_CONFIG = {
    'host': '192.168.0.10',
    'user': 'runmcp',
    'password': 'rcpGsy2*dmQ',
    'database': 'runmcp',
    'charset': 'utf8mb4',
    'autocommit': True
}
```

## ğŸ“Š ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

### `servers` í…Œì´ë¸”
```sql
CREATE TABLE servers (
    id INT PRIMARY KEY AUTO_INCREMENT,
    title VARCHAR(255) NOT NULL,                    -- ì„œë²„ ì œëª©
    host VARCHAR(255) NOT NULL,                     -- ì„œë²„ IP/í˜¸ìŠ¤íŠ¸ëª…
    port INT DEFAULT 22,                            -- SSH í¬íŠ¸
    username VARCHAR(100) DEFAULT 'root',           -- SSH ì‚¬ìš©ìëª…
    description TEXT,                               -- ì„œë²„ ì„¤ëª…
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP, -- ìƒì„±ì¼ì‹œ
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    UNIQUE KEY unique_server (host, port, username) -- ì¤‘ë³µ ë°©ì§€
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

## ğŸ› ï¸ ì„¤ì¹˜ ë° ì„¤ì •

### 1. MySQL ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜
```bash
pip install pymysql
```

### 2. MySQL ì„œë²„ ì¤€ë¹„
- MySQL ì„œë²„ê°€ 192.168.0.10ì—ì„œ ì‹¤í–‰ ì¤‘ì´ì–´ì•¼ í•¨
- `runmcp` ë°ì´í„°ë² ì´ìŠ¤ê°€ ì¡´ì¬í•´ì•¼ í•¨
- `runmcp` ì‚¬ìš©ì ê¶Œí•œ ì„¤ì • í•„ìš”

### 3. ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° í…ŒìŠ¤íŠ¸
```bash
python test_mysql_connection.py
```

## âœ¨ ì£¼ìš” ë³€ê²½ì‚¬í•­

### ğŸ”„ SQLite â†’ MySQL ë§ˆì´ê·¸ë ˆì´ì…˜
- **ì—°ê²° ë°©ì‹**: `sqlite3` â†’ `pymysql`
- **ë°ì´í„° íƒ€ì…**: `INTEGER` â†’ `INT`, `TEXT` â†’ `VARCHAR/TEXT`
- **ìë™ì¦ê°€**: `AUTOINCREMENT` â†’ `AUTO_INCREMENT`
- **íŒŒë¼ë¯¸í„° ë°”ì¸ë”©**: `?` â†’ `%s`
- **ì‹œê°„ í•¨ìˆ˜**: `CURRENT_TIMESTAMP` â†’ `NOW()`

### ğŸ¯ ê°œì„ ëœ ê¸°ëŠ¥
- **ë” ë‚˜ì€ ì„±ëŠ¥**: MySQLì˜ ìµœì í™”ëœ ì¿¼ë¦¬ ì—”ì§„
- **ë™ì‹œì„± ì§€ì›**: ì—¬ëŸ¬ ì‚¬ìš©ìê°€ ë™ì‹œì— ì ‘ê·¼ ê°€ëŠ¥
- **í™•ì¥ì„±**: ëŒ€ìš©ëŸ‰ ë°ì´í„° ì²˜ë¦¬ ê°€ëŠ¥
- **ì•ˆì •ì„±**: íŠ¸ëœì­ì…˜ê³¼ ë¡¤ë°± ì§€ì›
- **ë°±ì—…**: MySQL í‘œì¤€ ë°±ì—… ë„êµ¬ í™œìš©

### ğŸ” ë³´ì•ˆ ê°•í™”
- **ë„¤íŠ¸ì›Œí¬ ë¶„ë¦¬**: ì›ê²© MySQL ì„œë²„ ì‚¬ìš©
- **ì‚¬ìš©ì ê¶Œí•œ**: ì „ìš© ë°ì´í„°ë² ì´ìŠ¤ ì‚¬ìš©ì
- **ë°ì´í„° ë¬´ê²°ì„±**: UNIQUE ì œì•½ ì¡°ê±´
- **ë¬¸ìì…‹**: UTF8MB4ë¡œ ì™„ì „í•œ ìœ ë‹ˆì½”ë“œ ì§€ì›

## ğŸš¦ ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹œì‘

### ì •ìƒ ì‹œì‘
```bash
# ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹œì‘
python app/main.py

# ë˜ëŠ” uvicorn ì‚¬ìš©
uvicorn app.main:app --host 0.0.0.0 --port 8000 --reload
```

### ë¡œê·¸ í™•ì¸
ì•± ì‹œì‘ ì‹œ ë‹¤ìŒê³¼ ê°™ì€ ë¡œê·¸ê°€ í‘œì‹œë©ë‹ˆë‹¤:
```
âœ… MySQL ë°ì´í„°ë² ì´ìŠ¤ê°€ ì„±ê³µì ìœ¼ë¡œ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.
```

### ì—°ê²° ì‹¤íŒ¨ ì‹œ
```
âŒ MySQL ì—°ê²° ì‹¤íŒ¨: ...
ğŸ’¥ ë°ì´í„°ë² ì´ìŠ¤ ì´ˆê¸°í™” ì¤‘ ì‹¬ê°í•œ ì˜¤ë¥˜: ...
   MySQL ì„œë²„ê°€ ì‹¤í–‰ ì¤‘ì´ê³  ì—°ê²° ì •ë³´ê°€ ì˜¬ë°”ë¥¸ì§€ í™•ì¸í•´ì£¼ì„¸ìš”.
   ì—°ê²° ì •ë³´: runmcp@192.168.0.10:3306/runmcp
```

## ğŸ“± ì›¹ ì¸í„°í˜ì´ìŠ¤ ì‚¬ìš©ë²•

### 1. ì„œë²„ ë“±ë¡
1. **ì„œë²„ ì ‘ê·¼ ìƒì„±** íƒ­ìœ¼ë¡œ ì´ë™
2. **ğŸ·ï¸ ì €ì¥ íƒ€ì´í‹€** ì…ë ¥ (ì˜ˆ: "ìš´ì˜-ì›¹ì„œë²„01")
3. **ğŸ“ ì„¤ëª…** ì…ë ¥ (ì„ íƒì‚¬í•­)
4. ì„œë²„ ì •ë³´ ì…ë ¥ (IP, í¬íŠ¸, ì‚¬ìš©ìëª…, ë¹„ë°€ë²ˆí˜¸)
5. **ğŸš€ SSH í‚¤ ì„¤ì¹˜ ë° ì„œë²„ ë“±ë¡** í´ë¦­

### 2. ì„œë²„ ê´€ë¦¬
- **ì„œë²„ ì •ë³´** íƒ­ì—ì„œ ë“±ë¡ëœ ì„œë²„ë“¤ í™•ì¸
- **ğŸ”— ë¹ ë¥¸ ì ‘ì†**: ì„¸ì…˜ ëª¨ë“œë¡œ ë°”ë¡œ ì´ë™
- **ğŸ” ì—°ê²° í…ŒìŠ¤íŠ¸**: ì„œë²„ ìƒíƒœ í™•ì¸
- **ğŸ—‘ï¸ ì‚­ì œ**: ë¶ˆí•„ìš”í•œ ì„œë²„ ì œê±°

### 3. ì„œë²„ ì ‘ì†
- **ì„¸ì…˜ ëª¨ë“œ**: ì§€ì†ì ì¸ SSH ì—°ê²°ë¡œ ì—¬ëŸ¬ ëª…ë ¹ ì‹¤í–‰
- **í„°ë¯¸ë„**: ì‹¤ì‹œê°„ ëŒ€í™”í˜• ì‰˜ í™˜ê²½
- **ë‹¨ì¼ ëª…ë ¹ì–´**: ë¹ ë¥¸ ì¼íšŒì„± ëª…ë ¹ ì‹¤í–‰

## ğŸ”§ ê´€ë¦¬ ë° ìœ ì§€ë³´ìˆ˜

### MySQL ë°±ì—…
```bash
mysqldump -h 192.168.0.10 -u runmcp -p runmcp > servers_backup.sql
```

### MySQL ë³µì›
```bash
mysql -h 192.168.0.10 -u runmcp -p runmcp < servers_backup.sql
```

### í…Œì´ë¸” ìƒíƒœ í™•ì¸
```sql
-- ì„œë²„ ëª©ë¡ ì¡°íšŒ
SELECT * FROM servers ORDER BY created_at DESC;

-- í…Œì´ë¸” êµ¬ì¡° í™•ì¸
DESCRIBE servers;

-- ì¸ë±ìŠ¤ ì •ë³´
SHOW INDEX FROM servers;
```

## ğŸ‰ ì™„ë£Œëœ ê¸°ëŠ¥

âœ… **MySQL ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°**  
âœ… **servers í…Œì´ë¸” ìƒì„± ë° ê´€ë¦¬**  
âœ… **ì„œë²„ ë“±ë¡/ìˆ˜ì •/ì‚­ì œ API**  
âœ… **ì›¹ ì¸í„°í˜ì´ìŠ¤ ì—°ë™**  
âœ… **SSH í‚¤ ì„¤ì¹˜ ì‹œ ìë™ ì €ì¥**  
âœ… **ì„œë²„ íƒ€ì…ë³„ ì•„ì´ì½˜ í‘œì‹œ**  
âœ… **ë“±ë¡ì¼/ìˆ˜ì •ì¼ ì¶”ì **  
âœ… **ì¤‘ë³µ ë°©ì§€ (host, port, username)**  
âœ… **ì—°ê²° í…ŒìŠ¤íŠ¸ ë° ë¹ ë¥¸ ì ‘ì†**  
âœ… **í•œê¸€ ì™„ì „ ì§€ì› (UTF8MB4)**  

---

ğŸŠ **ì¶•í•˜í•©ë‹ˆë‹¤!** ì´ì œ MySQL ê¸°ë°˜ì˜ ê°•ë ¥í•œ ì„œë²„ ê´€ë¦¬ ì‹œìŠ¤í…œì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤! 
